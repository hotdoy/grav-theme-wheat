{% extends 'partials/base.html.twig' %}

{% set mp4 = page.header.mp4 ? page.media[page.header.mp4] %}
{% set webm = page.header.webm ? page.media[page.header.webm] %}
{% set image = page.header.image ? page.media[page.header.image] %}
{% set image_alt = page.header.image_alt ?? '' %}

{% block content %}

	<section class="landing__hero">

		<div class="landing__hero__media fill">
			{% if mp4 or webm %}
			<video autoplay loop muted poster="{{ image.url }}">
				{% if mp4 %} <source type="video/mp4" src="{{ mp4.url }}">{% endif %}
				{% if webm %} <source type="video/webm" src="{{ webm.url }}">{% endif %}
			</video>
			{% elseif image %}
			{{ image.html('', image_alt) }}
			{% endif %}
		</div>

		{% if page.header.veil %}<div class="landing__hero__veil fill"></div>{% endif %}

		<div class="landing__hero__content fill text" data-reveal>
			<div>{{ page.content|raw }}</div>
		</div>

	</section>
	{% for module in page.collection({ items: {'@self.modular':''}, 'order': {'by':'folder', 'dir':'asc'}}) %}
	{{ module.content|raw }}
	{% endfor %}
{% endblock %}
