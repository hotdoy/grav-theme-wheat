{% import "partials/svg.html.twig" as svg %}

<header id="header">
    
    {# HEADER #}
    <div class="shim"></div>

    {# MARQUEE #}
    {% if root_params.header.marquee %}
    <section class="marquee">{{ root_params.header.marquee_content|markdown|raw }}</section>
    {% endif %}

    <div class="header">
        <div class="grid">

            {# LINKS #}
            <div class="links">
                <nav>
                    {% for link in root_params.header.header_links %}
                    {% set p = page.find(link.page) %}
                    <li class="{{ (p.active or p.activeChild) ? ' active' : '' }}"><a href="{{ p.url }}">{{ link.label }}</a></li>
                    {% endfor %}
                    {% include 'partials/langswitcher.html.twig' %}
                </nav>
                <button class="burger js-panel-open" aria-label="open menu">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path fill="currentColor" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
                </button>
            </div>

            {# LOGO #}
            <a class="logo" href="{{ home_url }}" aria-label="Site logo">{% include 'partials/logo.html.twig' %}</a>

            {# TOGGLES #}
            <div class="toggles">
                {% if not theme.snipcart_allow_guests_only %}
                <button class="snipcart-account snipcart-customer-signin">{{ svg.user() }}</button>
                {% endif %}
                {% if theme.snipcart %}
                <button class="snipcart-checkout" aria-label="open cart">
                    {{ svg.bag() }}
                    <span class="snipcart-items-count">0</span>
                    <span class="snipcart-pulse"></span>
                </button>
                {% endif %}
            </div>

        </div>
    </div>

    {# PANEL #}
    <div class="header-panel">
        <nav>
            {% for link in root_params.header.header_links %}
            {% set p = page.find(link.page) %}
            <li class="{{ (p.active or p.activeChild) ? ' active' : '' }}"><a href="{{ p.url }}">{{ link.label }}</a></li>
            {% endfor %}
            {% include 'partials/langswitcher.html.twig' %}
        </nav>
    </div>

</header>
